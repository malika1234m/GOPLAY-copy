<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Professional Coaches - SportHub</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/components/navbar.css">
    <link rel="stylesheet" href="/css/pages/book-coach.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Navbar Component -->
    <div id="navbar-container"></div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Train with Elite Coaches</h1>
            <p>Connect with certified sports professionals and elevate your performance to the next level</p>
        </div>
    </section>

    <main class="coach-container">
        <!-- Filters Section -->
        <section class="filters-section">
            <div class="filter-container">
                <div class="search-group">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search coaches, sports, locations..." />
                </div>
                
                <div class="filter-group">
                    <select id="sportFilter">
                        <option value="">All Sports</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="locationFilter">
                        <option value="">All Locations</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="priceFilter">
                        <option value="">Price Range</option>
                        <option value="0-50">$0 - $50/hr</option>
                        <option value="50-70">$50 - $70/hr</option>
                        <option value="70+">$70+/hr</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="ratingFilter">
                        <option value="">All Ratings</option>
                        <option value="4.5">4.5+ Stars</option>
                        <option value="4.0">4.0+ Stars</option>
                        <option value="3.5">3.5+ Stars</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <select id="sortFilter">
                        <option value="rating-desc">Highest Rated</option>
                        <option value="name-asc">Name A-Z</option>
                        <option value="price-asc">Price Low to High</option>
                        <option value="price-desc">Price High to Low</option>
                        <option value="experience-desc">Most Experienced</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="results-section">
            <div class="results-header">
                <h2 id="coachCount">Loading coaches...</h2>
                <div class="view-toggle">
                    <button id="gridView" class="view-btn active"><i class="fas fa-th"></i></button>
                    <button id="listView" class="view-btn"><i class="fas fa-list"></i></button>
                </div>
            </div>
            
            <div id="coachGrid" class="coach-grid grid-view"></div>
            <div id="loadingSpinner" class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading coaches...</p>
            </div>
            <div id="noResults" class="no-results" style="display: none;">
                <i class="fas fa-user-times"></i>
                <h3>No coaches found</h3>
                <p>Try adjusting your search criteria or browse all coaches</p>
            </div>
        </section>
    </main>

    <!-- Booking Modal -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-alt"></i> Book Coaching Session</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="coach-summary">
                    <img id="modalCoachImage" src="" alt="Coach" class="modal-coach-image">
                    <div class="coach-details">
                        <h4 id="modalCoachName"></h4>
                        <p id="modalCoachSpecialization"></p>
                        <p class="price-info">$<span id="modalCoachRate"></span>/hour</p>
                    </div>
                </div>
                
                <form id="bookingForm" class="booking-form">
                    <div class="form-group">
                        <label for="sessionDate">Preferred Date</label>
                        <input type="date" id="sessionDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="sessionTime">Preferred Time</label>
                        <select id="sessionTime" required>
                            <option value="">Select time</option>
                            <option value="09:00">9:00 AM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="14:00">2:00 PM</option>
                            <option value="15:00">3:00 PM</option>
                            <option value="16:00">4:00 PM</option>
                            <option value="17:00">5:00 PM</option>
                            <option value="18:00">6:00 PM</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="sessionDuration">Duration</label>
                        <select id="sessionDuration" required>
                            <option value="1">1 hour</option>
                            <option value="2">2 hours</option>
                            <option value="3">3 hours</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="sessionType">Session Type</label>
                        <select id="sessionType" required>
                            <option value="individual">Individual Training</option>
                            <option value="group">Group Session</option>
                            <option value="assessment">Skills Assessment</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="specialRequests">Special Requests (Optional)</label>
                        <textarea id="specialRequests" rows="3" placeholder="Any specific focus areas or requirements..."></textarea>
                    </div>
                    
                    <div class="booking-summary">
                        <div class="summary-item">
                            <span>Duration:</span>
                            <span id="summaryDuration">1 hour</span>
                        </div>
                        <div class="summary-item">
                            <span>Rate:</span>
                            <span>$<span id="summaryRate">50</span>/hour</span>
                        </div>
                        <div class="summary-item total">
                            <span>Total:</span>
                            <span>$<span id="summaryTotal">50</span></span>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancelBooking">Cancel</button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-credit-card"></i> Confirm Booking
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Favorites Button -->
    <button id="favoritesButton" class="favorites-button">
        <i class="fas fa-heart"></i>
        <span id="favoritesCount">0</span>
    </button>

    <script src="/js/components/navbar.js"></script>
    <script src="/js/auth.js"></script>
    
    <script>
        // Load navbar
        fetch('/pages/components/navbar.html')
            .then(res => res.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
                new Navbar();
            })
            .catch(err => console.log('Navbar not found, continuing without it'));

        // Professional Coach Booking Application
        class CoachBookingApp {
            constructor() {
                this.coaches = [];
                this.filteredCoaches = [];
                this.favorites = JSON.parse(localStorage.getItem('favoriteCoaches')) || [];
                this.currentView = 'grid';
                this.selectedCoach = null;
                this.init();
            }

            async init() {
                try {
                    await this.loadCoaches();
                    this.setupEventListeners();
                    this.updateFavoritesDisplay();
                    this.hideLoadingSpinner();
                    this.renderCoaches();
                } catch (error) {
                    console.error('Failed to initialize coach booking:', error);
                    this.showError('Failed to load coaches');
                }
            }

            async loadCoaches() {
                try {
                    const response = await fetch('../data/coaches.json');
                    if (!response.ok) throw new Error('Failed to fetch coaches');
                    this.coaches = await response.json();
                    
                    // Filter only active coaches
                    this.coaches = this.coaches.filter(coach => coach.status === 'Active');
                    this.filteredCoaches = [...this.coaches];
                    
                    // Populate filter options
                    this.populateFilterOptions();
                } catch (error) {
                    // Fallback to sample data if JSON file fails
                    this.coaches = this.getSampleCoaches();
                    this.filteredCoaches = [...this.coaches];
                    this.populateFilterOptions();
                }
            }

            getSampleCoaches() {
                return [
                    {
                        id: 1,
                        name: "Alex Rodriguez",
                        email: "alex.rodriguez@email.com",
                        phone: "+1234567890",
                        specialization: ["Tennis", "Badminton"],
                        experience: "5 years",
                        location: "New York",
                        bio: "Professional tennis coach with 5 years of experience training players from beginner to advanced levels.",
                        certifications: ["PTR Certified", "USPTA Professional"],
                        hourlyRate: 50,
                        availability: ["Monday", "Wednesday", "Friday"],
                        rating: 4.8,
                        totalStudents: 45,
                        joinDate: "2023-01-15",
                        status: "Active",
                        profileImage: "alex_rodriguez.jpg"
                    },
                    {
                        id: 2,
                        name: "Maria Santos",
                        email: "maria.santos@email.com",
                        phone: "+1234567891",
                        specialization: ["Football", "Soccer"],
                        experience: "8 years",
                        location: "California",
                        bio: "Former professional soccer player turned coach. Specializes in youth development and tactical training.",
                        certifications: ["FIFA Coaching License", "UEFA B License"],
                        hourlyRate: 60,
                        availability: ["Tuesday", "Thursday", "Saturday"],
                        rating: 4.9,
                        totalStudents: 67,
                        joinDate: "2022-03-20",
                        status: "Active",
                        profileImage: "maria_santos.jpg"
                    },
                    {
                        id: 3,
                        name: "David Chen",
                        email: "david.chen@email.com",
                        phone: "+1234567892",
                        specialization: ["Basketball", "Volleyball"],
                        experience: "6 years",
                        location: "Texas",
                        bio: "Basketball coach with extensive experience in player development and team strategy.",
                        certifications: ["NBA Coach Certification", "NFHS Certified"],
                        hourlyRate: 55,
                        availability: ["Monday", "Tuesday", "Thursday"],
                        rating: 4.7,
                        totalStudents: 38,
                        joinDate: "2023-06-10",
                        status: "Active",
                        profileImage: "david_chen.jpg"
                    },
                    {
                        id: 4,
                        name: "Sarah Johnson",
                        email: "sarah.johnson@email.com",
                        phone: "+1234567893",
                        specialization: ["Swimming", "Water Polo"],
                        experience: "4 years",
                        location: "Florida",
                        bio: "Swimming instructor and water polo coach with Olympic training background.",
                        certifications: ["Red Cross Water Safety", "USA Swimming Certified"],
                        hourlyRate: 45,
                        availability: ["Wednesday", "Friday", "Sunday"],
                        rating: 4.6,
                        totalStudents: 29,
                        joinDate: "2023-09-05",
                        status: "Active",
                        profileImage: "sarah_johnson.jpg"
                    }
                ];
            }

            populateFilterOptions() {
                // Get unique sports and locations
                const sports = [...new Set(this.coaches.flatMap(coach => coach.specialization))].sort();
                const locations = [...new Set(this.coaches.map(coach => coach.location))].sort();

                // Populate sport filter
                const sportSelect = document.getElementById('sportFilter');
                sports.forEach(sport => {
                    const option = document.createElement('option');
                    option.value = sport;
                    option.textContent = sport;
                    sportSelect.appendChild(option);
                });

                // Populate location filter
                const locationSelect = document.getElementById('locationFilter');
                locations.forEach(location => {
                    const option = document.createElement('option');
                    option.value = location;
                    option.textContent = location;
                    locationSelect.appendChild(option);
                });
            }

            setupEventListeners() {
                // Filter listeners
                document.getElementById('searchInput').addEventListener('input', () => this.applyFilters());
                document.getElementById('sportFilter').addEventListener('change', () => this.applyFilters());
                document.getElementById('locationFilter').addEventListener('change', () => this.applyFilters());
                document.getElementById('priceFilter').addEventListener('change', () => this.applyFilters());
                document.getElementById('ratingFilter').addEventListener('change', () => this.applyFilters());
                document.getElementById('sortFilter').addEventListener('change', () => this.applyFilters());

                // View toggle listeners
                document.getElementById('gridView').addEventListener('click', () => this.setView('grid'));
                document.getElementById('listView').addEventListener('click', () => this.setView('list'));

                // Modal listeners
                document.getElementById('closeModal').addEventListener('click', () => this.closeBookingModal());
                document.getElementById('cancelBooking').addEventListener('click', () => this.closeBookingModal());
                document.getElementById('bookingForm').addEventListener('submit', (e) => this.handleBookingSubmit(e));
                
                // Duration change listener for price calculation
                document.getElementById('sessionDuration').addEventListener('change', () => this.updateBookingSummary());

                // Favorites button
                document.getElementById('favoritesButton').addEventListener('click', () => this.showFavorites());

                // Modal backdrop click to close
                document.getElementById('bookingModal').addEventListener('click', (e) => {
                    if (e.target.id === 'bookingModal') {
                        this.closeBookingModal();
                    }
                });
            }

            applyFilters() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                const sport = document.getElementById('sportFilter').value;
                const location = document.getElementById('locationFilter').value;
                const priceRange = document.getElementById('priceFilter').value;
                const ratingFilter = document.getElementById('ratingFilter').value;
                const sort = document.getElementById('sortFilter').value;

                this.filteredCoaches = this.coaches.filter(coach => {
                    const matchesSearch = !searchTerm || 
                        coach.name.toLowerCase().includes(searchTerm) ||
                        coach.bio.toLowerCase().includes(searchTerm) ||
                        coach.specialization.some(spec => spec.toLowerCase().includes(searchTerm)) ||
                        coach.location.toLowerCase().includes(searchTerm);

                    const matchesSport = !sport || coach.specialization.includes(sport);
                    const matchesLocation = !location || coach.location === location;
                    
                    let matchesPrice = true;
                    if (priceRange) {
                        if (priceRange === '70+') {
                            matchesPrice = coach.hourlyRate >= 70;
                        } else {
                            const [min, max] = priceRange.split('-').map(Number);
                            matchesPrice = coach.hourlyRate >= min && coach.hourlyRate <= max;
                        }
                    }

                    const matchesRating = !ratingFilter || coach.rating >= parseFloat(ratingFilter);

                    return matchesSearch && matchesSport && matchesLocation && matchesPrice && matchesRating;
                });

                // Apply sorting
                this.sortCoaches(sort);
                this.renderCoaches();
            }

            sortCoaches(sortType) {
                switch(sortType) {
                    case 'name-asc':
                        this.filteredCoaches.sort((a, b) => a.name.localeCompare(b.name));
                        break;
                    case 'price-asc':
                        this.filteredCoaches.sort((a, b) => a.hourlyRate - b.hourlyRate);
                        break;
                    case 'price-desc':
                        this.filteredCoaches.sort((a, b) => b.hourlyRate - a.hourlyRate);
                        break;
                    case 'rating-desc':
                        this.filteredCoaches.sort((a, b) => b.rating - a.rating);
                        break;
                    case 'experience-desc':
                        this.filteredCoaches.sort((a, b) => {
                            const aExp = parseInt(a.experience);
                            const bExp = parseInt(b.experience);
                            return bExp - aExp;
                        });
                        break;
                }
            }

            renderCoaches() {
                const grid = document.getElementById('coachGrid');
                const noResults = document.getElementById('noResults');
                
                if (this.filteredCoaches.length === 0) {
                    grid.style.display = 'none';
                    noResults.style.display = 'block';
                    this.updateCoachCount(0);
                    return;
                }

                grid.style.display = 'grid';
                noResults.style.display = 'none';
                
                grid.innerHTML = this.filteredCoaches.map(coach => 
                    this.createCoachCard(coach)
                ).join('');
                
                this.updateCoachCount(this.filteredCoaches.length);
            }

            createCoachCard(coach) {
                const isFavorite = this.favorites.includes(coach.id);
                const experienceYears = parseInt(coach.experience) || 0;
                
                return `
                    <div class="coach-card">
                        <div class="coach-image">
                            <img src="../assets/images/${coach.profileImage}" alt="${coach.name}" 
                                 onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face'">
                            <div class="coach-actions">
                                <button class="action-btn favorite-btn ${isFavorite ? 'active' : ''}" 
                                        onclick="coachApp.toggleFavorite(${coach.id})">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="action-btn profile-btn" onclick="coachApp.viewProfile(${coach.id})">
                                    <i class="fas fa-user"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="coach-info">
                            <div class="coach-header">
                                <h3 class="coach-name">${coach.name}</h3>
                                <div class="coach-specialization">${coach.specialization.join(' • ')}</div>
                            </div>
                            
                            <div class="coach-meta">
                                <div class="coach-rating">
                                    <div class="stars">
                                        ${this.generateStars(coach.rating)}
                                    </div>
                                    <span class="rating-text">${coach.rating} (${coach.totalStudents} students)</span>
                                </div>
                                <div class="coach-details">
                                    <span class="experience"><i class="fas fa-medal"></i> ${coach.experience} experience</span>
                                    <span class="location"><i class="fas fa-map-marker-alt"></i> ${coach.location}</span>
                                </div>
                            </div>
                            
                            <p class="coach-bio">${coach.bio}</p>
                            
                            <div class="coach-certifications">
                                <h4>Certifications</h4>
                                <div class="cert-tags">
                                    ${coach.certifications.map(cert => `<span class="cert-tag">${cert}</span>`).join('')}
                                </div>
                            </div>
                            
                            <div class="coach-availability">
                                <h4>Available</h4>
                                <div class="availability-tags">
                                    ${coach.availability.map(day => `<span class="availability-tag">${day}</span>`).join('')}
                                </div>
                            </div>
                            
                            <div class="coach-pricing">
                                <span class="hourly-rate">$${coach.hourlyRate}/hour</span>
                            </div>
                            
                            <div class="coach-buttons">
                                <button class="btn-secondary" onclick="coachApp.viewProfile(${coach.id})">
                                    <i class="fas fa-user"></i> View Profile
                                </button>
                                <button class="btn-primary" onclick="coachApp.openBookingModal(${coach.id})">
                                    <i class="fas fa-calendar-plus"></i> Book Session
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            generateStars(rating) {
                let stars = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= rating) {
                        stars += '<i class="fas fa-star"></i>';
                    } else if (i - 0.5 <= rating) {
                        stars += '<i class="fas fa-star-half-alt"></i>';
                    } else {
                        stars += '<i class="far fa-star"></i>';
                    }
                }
                return stars;
            }

            setView(viewType) {
                this.currentView = viewType;
                const grid = document.getElementById('coachGrid');
                const gridBtn = document.getElementById('gridView');
                const listBtn = document.getElementById('listView');

                if (viewType === 'grid') {
                    grid.className = 'coach-grid grid-view';
                    gridBtn.classList.add('active');
                    listBtn.classList.remove('active');
                } else {
                    grid.className = 'coach-grid list-view';
                    listBtn.classList.add('active');
                    gridBtn.classList.remove('active');
                }
                
                this.renderCoaches();
            }

            toggleFavorite(coachId) {
                const index = this.favorites.indexOf(coachId);
                if (index > -1) {
                    this.favorites.splice(index, 1);
                } else {
                    this.favorites.push(coachId);
                }
                
                localStorage.setItem('favoriteCoaches', JSON.stringify(this.favorites));
                this.updateFavoritesDisplay();
                this.renderCoaches(); // Re-render to update heart icon
            }

            updateFavoritesDisplay() {
                const favoritesCount = document.getElementById('favoritesCount');
                favoritesCount.textContent = this.favorites.length;
            }

            openBookingModal(coachId) {
                const coach = this.coaches.find(c => c.id === coachId);
                if (!coach) return;

                this.selectedCoach = coach;
                
                // Populate modal with coach info
                document.getElementById('modalCoachImage').src = `../assets/images/${coach.profileImage}`;
                document.getElementById('modalCoachImage').onerror = function() { 
                    this.src = 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&crop=face'; 
                };
                document.getElementById('modalCoachName').textContent = coach.name;
                document.getElementById('modalCoachSpecialization').textContent = coach.specialization.join(' • ');
                document.getElementById('modalCoachRate').textContent = coach.hourlyRate;
                
                // Set minimum date to today
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('sessionDate').min = today;
                
                // Reset form
                document.getElementById('bookingForm').reset();
                this.updateBookingSummary();
                
                // Show modal
                document.getElementById('bookingModal').style.display = 'block';
            }

            closeBookingModal() {
                document.getElementById('bookingModal').style.display = 'none';
                this.selectedCoach = null;
            }

            updateBookingSummary() {
                if (!this.selectedCoach) return;
                
                const duration = parseInt(document.getElementById('sessionDuration').value) || 1;
                const rate = this.selectedCoach.hourlyRate;
                const total = duration * rate;
                
                document.getElementById('summaryDuration').textContent = `${duration} hour${duration > 1 ? 's' : ''}`;
                document.getElementById('summaryRate').textContent = rate;
                document.getElementById('summaryTotal').textContent = total;
            }

            async handleBookingSubmit(e) {
                e.preventDefault();
                
                if (!this.selectedCoach) return;
                
                const formData = new FormData(e.target);
                const bookingData = {
                    coachId: this.selectedCoach.id,
                    coachName: this.selectedCoach.name,
                    date: document.getElementById('sessionDate').value,
                    time: document.getElementById('sessionTime').value,
                    duration: parseInt(document.getElementById('sessionDuration').value),
                    sessionType: document.getElementById('sessionType').value,
                    specialRequests: document.getElementById('specialRequests').value,
                    totalCost: parseInt(document.getElementById('summaryTotal').textContent),
                    bookingDate: new Date().toISOString()
                };
                
                try {
                    // Show loading state
                    const submitBtn = e.target.querySelector('button[type="submit"]');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                    submitBtn.disabled = true;
                    
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Store booking in localStorage (in production, send to API)
                    const existingBookings = JSON.parse(localStorage.getItem('coachBookings') || '[]');
                    existingBookings.push({ ...bookingData, id: Date.now() });
                    localStorage.setItem('coachBookings', JSON.stringify(existingBookings));
                    
                    // Show success message
                    this.showBookingConfirmation(bookingData);
                    this.closeBookingModal();
                    
                } catch (error) {
                    console.error('Booking failed:', error);
                    alert('Failed to book session. Please try again.');
                } finally {
                    // Reset button
                    const submitBtn = e.target.querySelector('button[type="submit"]');
                    submitBtn.innerHTML = '<i class="fas fa-credit-card"></i> Confirm Booking';
                    submitBtn.disabled = false;
                }
            }

            showBookingConfirmation(bookingData) {
                const notification = document.createElement('div');
                notification.className = 'booking-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="fas fa-check-circle"></i>
                        <h4>Booking Confirmed!</h4>
                        <p>Your session with ${bookingData.coachName} has been booked for ${bookingData.date} at ${bookingData.time}</p>
                        <small>Total: $${bookingData.totalCost}</small>
                    </div>
                `;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }

            viewProfile(coachId) {
                console.log('View profile for coach:', coachId);
                // In production, navigate to coach profile page
                window.location.href = `/pages/coach-profile.html?id=${coachId}`;
            }

            showFavorites() {
                // Filter to show only favorite coaches
                if (this.favorites.length === 0) {
                    alert('No favorite coaches yet. Add some by clicking the heart icon on coach cards!');
                    return;
                }
                
                this.filteredCoaches = this.coaches.filter(coach => this.favorites.includes(coach.id));
                this.renderCoaches();
            }

            updateCoachCount(count) {
                document.getElementById('coachCount').textContent = 
                    `${count} Coach${count !== 1 ? 'es' : ''} Available`;
            }

            hideLoadingSpinner() {
                document.getElementById('loadingSpinner').style.display = 'none';
            }

            showError(message) {
                const grid = document.getElementById('coachGrid');
                grid.innerHTML = `<div class="error-message"><i class="fas fa-exclamation-triangle"></i><p>${message}</p></div>`;
            }
        }

        // Initialize coach booking app when DOM is loaded
        let coachApp;
        document.addEventListener('DOMContentLoaded', () => {
            coachApp = new CoachBookingApp();
        });

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = '/';
        }

    </script>
</body>

</html>