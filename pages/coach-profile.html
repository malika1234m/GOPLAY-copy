<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="/css/components/navbar.css">
    <link rel="stylesheet" href="../css/pages/coach-profile.css">
    <title>Coach Profile - Dynamic</title>
</head>
<body>
    <div class="hero-section">
        <div class="hero-content">
            <div class="coach-avatar-large">
                <input type="file" class="image-upload" id="avatarUpload" accept="image/*" style="display: none;">
                <label for="avatarUpload" class="placeholder" id="avatarPlaceholder">
                    Click to upload coach photo
                </label>
            </div>
            <div class="coach-main-info">
                <h1 id="coachName">Loading...</h1>
                <div class="coach-title" id="coachTitle">Loading...</div>
                <div class="coach-stats">
                    <div class="stat-item">
                        <span class="rating-star">‚≠ê</span>
                        <span id="coachRating">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <span>üéØ</span>
                        <span id="coachExperience">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <span>üìç</span>
                        <span id="coachLocation">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="achievement-badge" id="achievementBadge">üèÜ</div>
    </div>

    <div class="main-content">
        <button class="back-button">
            ‚Üê Back
        </button>

        <div class="top-section">
            <!-- Booking Card - Now on the left -->
            <div class="booking-card section-card">
                <div class="booking-header">Send Booking Request</div>
                <div class="price-display" id="coachPrice">$45<span style="font-size: 0.8rem; font-weight: 400;">/hour</span></div>
                <div class="price-note">Send a request to this coach. Payment is only required after session confirmation.</div>

                <form id="bookingForm">
                    <div class="form-group">
                        <label class="form-label">Select Date *</label>
                        <input type="date" class="form-input" id="selectedDate" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Select Time *</label>
                        <div class="time-slots" id="timeSlots">
                            <!-- Time slots will be populated dynamically -->
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Venue Details *</label>
                        <textarea class="form-input textarea" id="venueDetails" placeholder="Please specify the venue address or location where you'd like the coaching session to take place..." required></textarea>
                    </div>

                    <div class="booking-details">
                        <div class="detail-row">
                            <span>Session duration:</span>
                            <span id="sessionDuration">60 minutes</span>
                        </div>
                        <div class="detail-row">
                            <span>Response time:</span>
                            <span id="responseTime">Within 2 hours</span>
                        </div>
                        <div class="detail-row">
                            <span>Cancellation:</span>
                            <span id="cancellationPolicy">24h notice</span>
                        </div>
                    </div>

                    <button type="submit" class="send-request-btn">üìß Send Request</button>
                    <div class="booking-note">The coach will review your request and respond within <span id="responseTimeNote">2 hours</span></div>
                </form>
            </div>

            <!-- Gallery - Now on the right -->
            <div class="section-card">
                <div class="section-header">
                    <span class="section-icon">üì∏</span>
                    Coach Gallery
                </div>
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery images will be populated dynamically -->
                </div>

                <!-- Lightbox Modal -->
                <div id="lightbox" class="lightbox" onclick="closeLightbox()">
                    <span class="close-btn">&times;</span>
                    <img class="lightbox-content" id="lightbox-img">
                </div>
            </div>
        </div>

        <div class="content-layout">
            <div class="left-content">
                <div class="section-card">
                    <div class="section-header">
                        <span class="section-icon">üë§</span>
                        <span>About <span id="aboutCoachName">Coach</span></span>
                    </div>
                    <div id="aboutContent">
                        <!-- About content will be populated dynamically -->
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-header">
                        <span class="section-icon">üéì</span>
                        Expertise & Certifications
                    </div>
                    <div class="specializations">
                        <strong>Specializations</strong>
                        <div class="spec-tags" id="specializationTags">
                            <!-- Specialization tags will be populated dynamically -->
                        </div>
                    </div>
                    
                    <div class="certifications-section">
                        <strong>Certifications</strong>
                        <div class="cert-tags" id="certificationTags">
                            <!-- Certification tags will be populated dynamically -->
                        </div>
                    </div>
                    
                    <div class="languages-section">
                        <strong>Languages</strong>
                        <div class="lang-tags" id="languageTags">
                            <!-- Language tags will be populated dynamically -->
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-header">
                        <span class="section-icon">üèÜ</span>
                        Achievements
                    </div>
                    <ul class="achievements-list" id="achievementsList">
                        <!-- Achievements will be populated dynamically -->
                    </ul>
                </div>

                <div class="section-card">
                    <div class="section-header">
                        <span class="section-icon">üíº</span>
                        Work Experience
                    </div>
                    <div id="experienceContent">
                        <!-- Experience items will be populated dynamically -->
                    </div>
                </div>

                <!-- New Review System -->
                <div class="section-card">
                    <div class="section-header">
                        <span class="section-icon">‚≠ê</span>
                        Customer Reviews
                    </div>
                    
                    <div class="write-review-section">
                        <h2>Write a Review</h2>
                        
                        <div class="success-message" id="successMessage">
                            Thank you for your review! It has been submitted successfully.
                        </div>
                        
                        <div class="rating-section">
                            <label class="rating-label">Rating</label>
                            <div class="star-rating" id="starRating">
                                <span class="star" data-rating="1">‚òÖ</span>
                                <span class="star" data-rating="2">‚òÖ</span>
                                <span class="star" data-rating="3">‚òÖ</span>
                                <span class="star" data-rating="4">‚òÖ</span>
                                <span class="star" data-rating="5">‚òÖ</span>
                            </div>
                        </div>
                        
                        <div class="review-input-section">
                            <label class="rating-label">Your Review</label>
                            <textarea 
                                class="review-textarea" 
                                id="reviewText"
                                placeholder="Share your experience with this coach..."
                                maxlength="500"
                            ></textarea>
                        </div>
                        
                        <button class="submit-btn" id="submitReview">
                            <span>üìù</span>
                            Submit Review
                        </button>
                    </div>
                    
                    <div class="reviews-list" id="reviewsList">
                        <!-- Reviews will be populated here -->
                    </div>
                </div>
            </div>
            <div class="right-content">
                <!-- Additional content can be added here -->
            </div>
        </div>

        <!-- Contact & Social Media Section -->
        <section class="contact-section">
            <h2>Connect with the Coach</h2>
            <p>Follow or contact the coach through these platforms:</p>
            <div class="social-buttons" id="socialButtons">
                <!-- Social media links will be populated dynamically -->
            </div>
        </section>
    </div>

    <script src="../js/pages/coach-profile.js"></script>
    <script src="../js/components/navbar.js"></script>
    <script>
        // Load the shared navbar dynamically
        fetch('/pages/components/navbar.html')
            .then(res => res.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
                new Navbar(); // Initialize navbar behavior
            });

        // Global logout function
        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = '/';
        }
    </script>

</body>
</html>